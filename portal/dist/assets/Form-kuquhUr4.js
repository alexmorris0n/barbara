import{f as M,a as S}from"./FormItem-D11vT_m1.js";import{y as w,z as k,F as B,m as O,n as P,A as _,B as j,b8 as F,r as L,D as I}from"./index-Zmiy9vUZ.js";import{k as x}from"./browser-BZH80bmF.js";const R=w("form",[k("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[w("form-item",{width:"auto",marginRight:"18px"},[B("&:last-child",{marginRight:0})])])]);var V=function(t,c,o,i){function h(a){return a instanceof o?a:new o(function(f){f(a)})}return new(o||(o=Promise))(function(a,f){function y(n){try{e(i.next(n))}catch(d){f(d)}}function r(n){try{e(i.throw(n))}catch(d){f(d)}}function e(n){n.done?a(n.value):h(n.value).then(y,r)}e((i=i.apply(t,c||[])).next())})};const E=Object.assign(Object.assign({},j.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:t=>{t.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),q=O({name:"Form",props:E,setup(t){const{mergedClsPrefixRef:c}=_(t);j("Form","-form",R,F,t,c);const o={},i=L(void 0),h=r=>{const e=i.value;(e===void 0||r>=e)&&(i.value=r)};function a(r){return V(this,arguments,void 0,function*(e,n=()=>!0){return yield new Promise((d,C)=>{const v=[];for(const u of x(o)){const g=o[u];for(const s of g)s.path&&v.push(s.internalValidate(null,n))}Promise.all(v).then(u=>{const g=u.some(l=>!l.valid),s=[],m=[];u.forEach(l=>{var p,b;!((p=l.errors)===null||p===void 0)&&p.length&&s.push(l.errors),!((b=l.warnings)===null||b===void 0)&&b.length&&m.push(l.warnings)}),e&&e(s.length?s:void 0,{warnings:m.length?m:void 0}),g?C(s.length?s:void 0):d({warnings:m.length?m:void 0})})})})}function f(){for(const r of x(o)){const e=o[r];for(const n of e)n.restoreValidation()}}return I(M,{props:t,maxChildLabelWidthRef:i,deriveMaxChildLabelWidth:h}),I(S,{formItems:o}),Object.assign({validate:a,restoreValidation:f},{mergedClsPrefix:c})},render(){const{mergedClsPrefix:t}=this;return P("form",{class:[`${t}-form`,this.inline&&`${t}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});export{q as N};
